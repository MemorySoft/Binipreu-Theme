(function(c){var a={},b={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,touchEnabled:!0,swipeThreshold:50,video:!1,useCSS:!0,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4000,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){}};c.fn.bxSlider=function(al){if(0!=this.length){if(this.length>1){return this.each(function(){c(this).bxSlider(al)}),this}var af={},ak=this;a.el=this;var e=c(window).width(),aa=c(window).height(),J=function(){af.settings=c.extend({},b,al),af.children=ak.children(af.settings.slideSelector),af.children.length<af.settings.minSlides&&(af.settings.minSlides=af.children.length),af.children.length<af.settings.maxSlides&&(af.settings.maxSlides=af.children.length),af.settings.randomStart&&(af.settings.startSlide=Math.floor(Math.random()*af.children.length)),af.active={index:af.settings.startSlide},af.carousel=af.settings.minSlides>1||af.settings.maxSlides>1,af.minThreshold=af.settings.minSlides*af.settings.slideWidth+(af.settings.minSlides-1)*af.settings.slideMargin,af.maxThreshold=af.settings.maxSlides*af.settings.slideWidth+(af.settings.maxSlides-1)*af.settings.slideMargin,af.working=!1,af.controls={},af.interval=null,af.animProp="vertical"==af.settings.mode?"top":"left",af.usingCSS=af.settings.useCSS&&"fade"!=af.settings.mode&&function(){var g=document.createElement("div"),d=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var f in d){if(void 0!==g.style[d[f]]){return af.cssPrefix=d[f].replace("Perspective","").toLowerCase(),af.animProp="-"+af.cssPrefix+"-transform",!0}}return !1}(),"vertical"==af.settings.mode&&(af.settings.maxSlides=af.settings.minSlides),F()},F=function(){if(ak.wrap('<div class="bx-wrapper"><div class="bx-viewport"></div></div>'),af.viewport=ak.parent(),af.loader=c('<div class="bx-loading" />'),af.viewport.prepend(af.loader),ak.css({width:"horizontal"==af.settings.mode?215*af.children.length+"%":"auto",position:"relative"}),af.usingCSS&&af.settings.easing?ak.css("-"+af.cssPrefix+"-transition-timing-function",af.settings.easing):af.settings.easing||(af.settings.easing="swing"),af.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),af.children.css({"float":"horizontal"==af.settings.mode?"left":"none",listStyle:"none",position:"relative"}),af.children.width(V()),"horizontal"==af.settings.mode&&af.settings.slideMargin>0&&af.children.css("marginRight",af.settings.slideMargin),"vertical"==af.settings.mode&&af.settings.slideMargin>0&&af.children.css("marginBottom",af.settings.slideMargin),"fade"==af.settings.mode&&(af.children.css({position:"absolute",zIndex:0,display:"none"}),af.children.eq(af.settings.startSlide).css({zIndex:50,display:"block"})),af.controls.el=c('<div class="bx-controls" />'),af.settings.captions&&an(),af.settings.infiniteLoop&&"fade"!=af.settings.mode&&!af.settings.ticker){var d="vertical"==af.settings.mode?af.settings.minSlides:af.settings.maxSlides,f=af.children.slice(0,d).clone().addClass("bx-clone"),g=af.children.slice(-d).clone().addClass("bx-clone");ak.append(f).prepend(g)}af.active.last=af.settings.startSlide==ap()-1,af.settings.video&&ak.fitVids(),af.settings.ticker||(af.settings.pager&&am(),af.settings.controls&&n(),af.settings.auto&&af.settings.autoControls&&aq(),(af.settings.controls||af.settings.autoControls||af.settings.pager)&&af.viewport.after(af.controls.el)),ak.children().imagesLoaded(function(){af.loader.remove(),R(),"vertical"==af.settings.mode&&(af.settings.adaptiveHeight=!0),af.viewport.height(U()),af.settings.onSliderLoad(af.active.index),af.initialized=!0,c(window).bind("resize",ag),af.settings.auto&&af.settings.autoStart&&ab(),af.settings.ticker&&K(),af.settings.pager&&au(af.settings.startSlide),af.settings.controls&&aj(),af.settings.touchEnabled&&!af.settings.ticker&&X()})},U=function(){var d=0,f=c();if("vertical"==af.settings.mode||af.settings.adaptiveHeight){if(af.carousel){var g=1==af.settings.moveSlides?af.active.index:af.active.index*ah();for(f=af.children.eq(g),i=1;af.settings.maxSlides-1>=i;i++){f=g+i>=af.children.length?f.add(af.children.eq(i-1)):f.add(af.children.eq(g+i))}}else{f=af.children.eq(af.active.index)}}else{f=af.children}return"vertical"==af.settings.mode?(f.each(function(){d+=c(this).outerHeight()}),af.settings.slideMargin>0&&(d+=af.settings.slideMargin*(af.settings.minSlides-1))):d=Math.max.apply(Math,f.map(function(){return c(this).outerHeight(!1)}).get()),d},V=function(){var f=af.settings.slideWidth,d=af.viewport.width();return 0==af.settings.slideWidth?f=d:d>af.maxThreshold?f=(d-af.settings.slideMargin*(af.settings.maxSlides-1))/af.settings.maxSlides:af.minThreshold>d&&(f=(d-af.settings.slideMargin*(af.settings.minSlides-1))/af.settings.minSlides),f},ao=function(){var f=1;if("horizontal"==af.settings.mode){if(af.viewport.width()<af.minThreshold){f=af.settings.minSlides}else{if(af.viewport.width()>af.maxThreshold){f=af.settings.maxSlides}else{var d=af.children.first().width();f=Math.floor(af.viewport.width()/d)}}}else{"vertical"==af.settings.mode&&(f=af.settings.minSlides)}return f},ap=function(){var g=0;if(af.settings.moveSlides>0){if(af.settings.infiniteLoop){g=af.children.length/ah()}else{for(var d=0,f=0;af.children.length>d;){++g,d=f+ao(),f+=af.settings.moveSlides<=ao()?af.settings.moveSlides:ao()}}}else{g=Math.ceil(af.children.length/ao())}return g},ah=function(){return af.settings.moveSlides>0&&af.settings.moveSlides<=ao()?af.settings.moveSlides:ao()},R=function(){if(af.active.last&&!af.settings.infiniteLoop){if("horizontal"==af.settings.mode){var g=af.children.last(),d=g.position();at(-(d.left-(af.viewport.width()-g.width())),"reset",0)}else{if("vertical"==af.settings.mode){var f=af.children.length-af.settings.minSlides,d=af.children.eq(f).position();at(-d.top,"reset",0)}}}else{var d=af.children.eq(af.active.index*ah()).position();af.active.index==ap()-1&&(af.active.last=!0),void 0!=d&&("horizontal"==af.settings.mode?at(-d.left,"reset",0):"vertical"==af.settings.mode&&at(-d.top,"reset",0))}},at=function(l,f,g,h){if(af.usingCSS){var k="vertical"==af.settings.mode?"translate3d(0, "+l+"px, 0)":"translate3d("+l+"px, 0, 0)";ak.css("-"+af.cssPrefix+"-transition-duration",g/1000+"s"),"slide"==f?(ak.css(af.animProp,k),ak.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){ak.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),av()})):"reset"==f?ak.css(af.animProp,k):"ticker"==f&&(ak.css("-"+af.cssPrefix+"-transition-timing-function","linear"),ak.css(af.animProp,k),ak.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){ak.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),at(h.resetValue,"reset",0),Y()}))}else{var d={};d[af.animProp]=l,"slide"==f?ak.animate(d,g,af.settings.easing,function(){av()}):"reset"==f?ak.css(af.animProp,l):"ticker"==f&&ak.animate(d,speed,"linear",function(){at(h.resetValue,"reset",0),Y()})}},ac=function(){var d="";pagerQty=ap();for(var f=0;pagerQty>f;f++){var g="";af.settings.buildPager&&c.isFunction(af.settings.buildPager)?(g=af.settings.buildPager(f),af.pagerEl.addClass("bx-custom-pager")):(g=f+1,af.pagerEl.addClass("bx-default-pager")),d+='<div class="bx-pager-item"><a href="" data-slide-index="'+f+'" class="bx-pager-link">'+g+"</a></div>"}af.pagerEl.html(d)},am=function(){af.settings.pagerCustom?af.pagerEl=c(af.settings.pagerCustom):(af.pagerEl=c('<div class="bx-pager" />'),af.settings.pagerSelector?c(af.settings.pagerSelector).html(af.pagerEl):af.controls.el.addClass("bx-has-pager").append(af.pagerEl),ac()),af.pagerEl.delegate("a","click",Z)},n=function(){af.controls.next=c('<a class="bx-next" href="">'+af.settings.nextText+"</a>"),af.controls.prev=c('<a class="bx-prev" href="">'+af.settings.prevText+"</a>"),af.controls.next.bind("click",G),af.controls.prev.bind("click",Q),af.settings.nextSelector&&c(af.settings.nextSelector).append(af.controls.next),af.settings.prevSelector&&c(af.settings.prevSelector).append(af.controls.prev),af.settings.nextSelector||af.settings.prevSelector||(af.controls.directionEl=c('<div class="bx-controls-direction" />'),af.controls.directionEl.append(af.controls.prev).append(af.controls.next),af.controls.el.addClass("bx-has-controls-direction").append(af.controls.directionEl))},aq=function(){af.controls.start=c('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+af.settings.startText+"</a></div>"),af.controls.stop=c('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+af.settings.stopText+"</a></div>"),af.controls.autoEl=c('<div class="bx-controls-auto" />'),af.controls.autoEl.delegate(".bx-start","click",j),af.controls.autoEl.delegate(".bx-stop","click",ai),af.settings.autoControlsCombine?af.controls.autoEl.append(af.controls.start):af.controls.autoEl.append(af.controls.start).append(af.controls.stop),af.settings.autoControlsSelector?c(af.settings.autoControlsSelector).html(af.controls.autoEl):af.controls.el.addClass("bx-has-controls-auto").append(af.controls.autoEl),ad(af.settings.autoStart?"stop":"start")},an=function(){af.children.each(function(){var d=c(this).find("img:first").attr("title");void 0!=d&&c(this).append('<div class="bx-caption"><span>'+d+"</span></div>")})},G=function(d){af.settings.auto&&ak.stopAuto(),ak.goToNextSlide(),d.preventDefault()},Q=function(d){af.settings.auto&&ak.stopAuto(),ak.goToPrevSlide(),d.preventDefault()},j=function(d){ak.startAuto(),d.preventDefault()},ai=function(d){ak.stopAuto(),d.preventDefault()},Z=function(d){af.settings.auto&&ak.stopAuto();var f=c(d.currentTarget),g=parseInt(f.attr("data-slide-index"));g!=af.active.index&&ak.goToSlide(g),d.preventDefault()},au=function(d){return"short"==af.settings.pagerType?(af.pagerEl.html(d+1+af.settings.pagerShortSeparator+af.children.length),void 0):(af.pagerEl.find("a").removeClass("active"),af.pagerEl.each(function(f,g){c(g).find("a").eq(d).addClass("active")}),void 0)},av=function(){if(af.settings.infiniteLoop){var d="";0==af.active.index?d=af.children.eq(0).position():af.active.index==ap()-1&&af.carousel?d=af.children.eq((ap()-1)*ah()).position():af.active.index==af.children.length-1&&(d=af.children.eq(af.children.length-1).position()),"horizontal"==af.settings.mode?at(-d.left,"reset",0):"vertical"==af.settings.mode&&at(-d.top,"reset",0)}af.working=!1,af.settings.onSlideAfter(af.children.eq(af.active.index),af.oldIndex,af.active.index)},ad=function(d){af.settings.autoControlsCombine?af.controls.autoEl.html(af.controls[d]):(af.controls.autoEl.find("a").removeClass("active"),af.controls.autoEl.find("a:not(.bx-"+d+")").addClass("active"))},aj=function(){!af.settings.infiniteLoop&&af.settings.hideControlOnEnd&&(0==af.active.index?(af.controls.prev.addClass("disabled"),af.controls.next.removeClass("disabled")):af.active.index==ap()-1?(af.controls.next.addClass("disabled"),af.controls.prev.removeClass("disabled")):(af.controls.prev.removeClass("disabled"),af.controls.next.removeClass("disabled")))},ab=function(){af.settings.autoDelay>0?setTimeout(ak.startAuto,af.settings.autoDelay):ak.startAuto(),af.settings.autoHover&&ak.hover(function(){af.interval&&(ak.stopAuto(!0),af.autoPaused=!0)},function(){af.autoPaused&&(ak.startAuto(!0),af.autoPaused=null)})},K=function(){var d=0;if("next"==af.settings.autoDirection){ak.append(af.children.clone().addClass("bx-clone"))}else{ak.prepend(af.children.clone().addClass("bx-clone"));var f=af.children.first().position();d="horizontal"==af.settings.mode?-f.left:-f.top}at(d,"reset",0),af.settings.pager=!1,af.settings.controls=!1,af.settings.autoControls=!1,af.settings.tickerHover&&!af.usingCSS&&af.viewport.hover(function(){ak.stop()},function(){var g=0;af.children.each(function(){g+="horizontal"==af.settings.mode?c(this).outerWidth(!0):c(this).outerHeight(!0)});var h=af.settings.speed/g,k="horizontal"==af.settings.mode?"left":"top",l=h*(g-Math.abs(parseInt(ak.css(k))));Y(l)}),Y()},Y=function(l){speed=l?l:af.settings.speed;var f={left:0,top:0},g={left:0,top:0};"next"==af.settings.autoDirection?f=ak.find(".bx-clone").first().position():g=af.children.first().position();var h="horizontal"==af.settings.mode?-f.left:-f.top,k="horizontal"==af.settings.mode?-g.left:-g.top,d={resetValue:k};at(h,"ticker",speed,d)},X=function(){af.touch={start:{x:0,y:0},end:{x:0,y:0}},af.viewport.bind("touchstart",ar)},ar=function(f){if(af.working){f.preventDefault()}else{af.touch.originalPos=ak.position();var d=f.originalEvent;af.touch.start.x=d.changedTouches[0].pageX,af.touch.start.y=d.changedTouches[0].pageY,af.viewport.bind("touchmove",ae),af.viewport.bind("touchend",t)}},ae=function(h){if(h.preventDefault(),"fade"!=af.settings.mode){var d=h.originalEvent,f=0;if("horizontal"==af.settings.mode){var g=d.changedTouches[0].pageX-af.touch.start.x;f=af.touch.originalPos.left+g}else{var g=d.changedTouches[0].pageY-af.touch.start.y;f=af.touch.originalPos.top+g}at(f,"reset",0)}},t=function(h){af.viewport.unbind("touchmove",ae);var d=h.originalEvent,f=0;if(af.touch.end.x=d.changedTouches[0].pageX,af.touch.end.y=d.changedTouches[0].pageY,"fade"==af.settings.mode){var g=Math.abs(af.touch.start.x-af.touch.end.x);g>=af.settings.swipeThreshold&&(af.touch.start.x>af.touch.end.x?ak.goToNextSlide():ak.goToPrevSlide(),ak.stopAuto())}else{var g=0;"horizontal"==af.settings.mode?(g=af.touch.end.x-af.touch.start.x,f=af.touch.originalPos.left):(g=af.touch.end.y-af.touch.start.y,f=af.touch.originalPos.top),!af.settings.infiniteLoop&&(0==af.active.index&&g>0||af.active.last&&0>g)?at(f,"reset",200):Math.abs(g)>=af.settings.swipeThreshold?(0>g?ak.goToNextSlide():ak.goToPrevSlide(),ak.stopAuto()):at(f,"reset",200)}af.viewport.unbind("touchend",t)},ag=function(){var d=c(window).width(),f=c(window).height();(e!=d||aa!=f)&&(e=d,aa=f,af.children.add(ak.find(".bx-clone")).width(V()),af.viewport.css("height",U()),af.active.last&&(af.active.index=ap()-1),af.active.index>=ap()&&(af.active.last=!0),af.settings.pager&&!af.settings.pagerCustom&&(ac(),au(af.active.index)),af.settings.ticker||R())};return ak.goToSlide=function(m,p){if(!af.working&&af.active.index!=m){if(af.working=!0,af.oldIndex=af.active.index,af.active.index=0>m?ap()-1:m>=ap()?0:m,af.settings.onSlideBefore(af.children.eq(af.active.index),af.oldIndex,af.active.index),"next"==p?af.settings.onSlideNext(af.children.eq(af.active.index),af.oldIndex,af.active.index):"prev"==p&&af.settings.onSlidePrev(af.children.eq(af.active.index),af.oldIndex,af.active.index),af.active.last=af.active.index>=ap()-1,af.settings.pager&&au(af.active.index),af.settings.controls&&aj(),"fade"==af.settings.mode){af.settings.adaptiveHeight&&af.viewport.height()!=U()&&af.viewport.animate({height:U()},af.settings.adaptiveHeightSpeed),af.children.filter(":visible").fadeOut(af.settings.speed).css({zIndex:0}),af.children.eq(af.active.index).css("zIndex",51).fadeIn(af.settings.speed,function(){c(this).css("zIndex",50),av()})}else{af.settings.adaptiveHeight&&af.viewport.height()!=U()&&af.viewport.animate({height:U()},af.settings.adaptiveHeightSpeed);var r=0,u={left:0,top:0};if(!af.settings.infiniteLoop&&af.carousel&&af.active.last){if("horizontal"==af.settings.mode){var f=af.children.eq(af.children.length-1);u=f.position(),r=af.viewport.width()-f.width()}else{var q=af.children.length-af.settings.minSlides;u=af.children.eq(q).position()}}else{if(af.carousel&&af.active.last&&"prev"==p){var k=1==af.settings.moveSlides?af.settings.maxSlides-ah():(ap()-1)*ah()-(af.children.length-af.settings.maxSlides),f=ak.children(".bx-clone").eq(k);u=f.position()}else{if("next"==p&&0==af.active.index){u=ak.find(".bx-clone").eq(af.settings.maxSlides).position(),af.active.last=!1}else{if(m>=0){var g=m*ah();u=af.children.eq(g).position()}}}}var o="horizontal"==af.settings.mode?-(u.left-r):-u.top;at(o,"slide",af.settings.speed)}}},ak.goToNextSlide=function(){if(af.settings.infiniteLoop||!af.active.last){var d=af.active.index+1;ak.goToSlide(d,"next")}},ak.goToPrevSlide=function(){if(af.settings.infiniteLoop||0!=af.active.index){var d=af.active.index-1;ak.goToSlide(d,"prev")}},ak.startAuto=function(d){af.interval||(af.interval=setInterval(function(){"next"==af.settings.autoDirection?ak.goToNextSlide():ak.goToPrevSlide()},af.settings.pause),af.settings.autoControls&&1!=d&&ad("stop"))},ak.stopAuto=function(d){af.interval&&(clearInterval(af.interval),af.interval=null,af.settings.autoControls&&1!=d&&ad("start"))},ak.getCurrentSlide=function(){return af.active.index},ak.getSlideCount=function(){return af.children.length},ak.destroySlider=function(){af.initialized&&(af.initialized=!1,c(".bx-clone",this).remove(),af.children.removeAttr("style"),this.removeAttr("style").unwrap().unwrap(),af.controls.el&&af.controls.el.remove(),af.controls.next&&af.controls.next.remove(),af.controls.prev&&af.controls.prev.remove(),af.pagerEl&&af.pagerEl.remove(),c(".bx-caption",this).remove(),af.controls.autoEl&&af.controls.autoEl.remove(),clearInterval(af.interval),c(window).unbind("resize",ag))},ak.reloadSlider=function(d){void 0!=d&&(al=d),ak.destroySlider(),J()},J(),this}}})(jQuery),function(c,a){var b="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";c.fn.imagesLoaded=function(q){function v(){var d=c(k),g=c(m);e&&(m.length?e.reject(j,d,g):e.resolve(j)),c.isFunction(q)&&q.call(u,j,d,g)}function t(d,g){d.src===b||-1!==c.inArray(d,f)||(f.push(d),g?m.push(d):k.push(d),c.data(d,"imagesLoaded",{isBroken:g,src:d.src}),p&&e.notifyWith(c(d),[g,j,c(k),c(m)]),j.length===f.length&&(setTimeout(v),j.unbind(".imagesLoaded")))}var u=this,e=c.isFunction(c.Deferred)?c.Deferred():0,p=c.isFunction(e.notify),j=u.find("img").add(u.filter("img")),f=[],k=[],m=[];return c.isPlainObject(q)&&c.each(q,function(g,d){"callback"===g?q=d:e&&e[g](d)}),j.length?j.bind("load.imagesLoaded error.imagesLoaded",function(d){t(d.target,"error"===d.type)}).each(function(g,l){var h=l.src,d=c.data(l,"imagesLoaded");d&&d.src===h?t(l,d.isBroken):l.complete&&l.naturalWidth!==a?t(l,0===l.naturalWidth||0===l.naturalHeight):(l.readyState||l.complete)&&(l.src=b,l.src=h)}):v(),e?e.promise(u):u}}(jQuery);(function(){var b=$('<div id="galleryOverlay">'),e=$('<div id="gallerySlider">'),d=$('<a id="prevArrow"></a>'),a=$('<a id="nextArrow"></a>'),c=false;$.fn.touchTouch=function(){var m=$([]),h=0,f=this,j=f;b.hide().appendTo("body");e.appendTo(b);j.each(function(){m=m.add($('<div class="placeholder">'))});e.append(m).on("click",function(s){if(!$(s.target).is("img")){g()}});$("body").on("touchstart","#gallerySlider img",function(s){var u=s.originalEvent,t=u.changedTouches[0].pageX;e.on("touchmove",function(v){v.preventDefault();u=v.originalEvent.touches[0]||v.originalEvent.changedTouches[0];if(u.pageX-t>10){e.off("touchmove");r()}else{if(u.pageX-t<-10){e.off("touchmove");p()}}});return false}).on("touchend",function(){e.off("touchmove")});j.on("click",function(u){u.preventDefault();var t=$(this),v,w,s=t.parent().closest("[data-gallery]");if(t.attr("data-gallery")){v=t.attr("data-gallery");w="item"}else{if(s.length){v=s.attr("data-gallery");w="ancestor"}}if(v&&w=="item"){j=$("[data-gallery="+v+"]")}else{if(v&&w=="ancestor"){j=j.filter(function(){return $(this).parent().closest("[data-gallery]").length})}}h=j.index(this);q(h);o(h);n(h+1);n(h-1)});if(!("ontouchstart" in window)){b.append(d).append(a);d.click(function(s){s.preventDefault();r()});a.click(function(s){s.preventDefault();p()})}$(window).bind("keydown",function(s){if(s.keyCode==37){r()}else{if(s.keyCode==39){p()}}});function q(s){if(c){return false}b.show();setTimeout(function(){b.addClass("visible")},100);l(s);c=true}function g(){if(!c){return false}b.hide().removeClass("visible");c=false;$(".placeholder").empty();j=f}function l(s){e.css("left",(-s*100)+"%")}function n(s){setTimeout(function(){o(s)},1000)}function o(s){if(s<0||s>=j.length){return false}k(j.eq(s).attr("href"),function(){m.eq(s).html(this)})}function k(u,s){var t=$("<img>").on("load",function(){s.call(t)});t.attr("src",u)}function p(){if(h+1<j.length){h++;l(h);n(h+1)}else{e.addClass("rightSpring");setTimeout(function(){e.removeClass("rightSpring")},500)}}function r(){if(h>0){h--;l(h);n(h-1)}else{e.addClass("leftSpring");setTimeout(function(){e.removeClass("leftSpring")},500)}}}})(jQuery);(function(c,k,b){var j,h;j={activateCurrent:function(d){this.html_element.find("select").val(d)},getHtml:function(){var d=this,e="",f;if(1<this.ln){e+='<select class="dropdown controls '+this.o.controls_cssclass+'">';this.ShowOnMenu(this.view_all_key)&&(e+='<option value="'+this.view_all_key+'">'+this.o.view_all_text+"</option>");for(f=0;f<this.ln;f+=1){this.ShowOnMenu(f)&&(e+='<option value="'+(f+1)+'">'+(this.o.locations[f].title||"#"+(f+1))+"</option>")}e=c(e+"</select>").bind("change",function(){d.ViewOnMap(this.value)})}(f=this.o.controls_title)&&(f=c('<div class="controls_title"></div>').css(this.o.controls_applycss?{fontWeight:"bold",fontSize:this.o.controls_on_map?"12px":"inherit",padding:"3px 10px 5px 0"}:{}).append(this.o.controls_title));return this.html_element=c('<div class="wrap_controls"></div>').append(f).append(e)}};h={html_a:function(d,f,g){var l=this;f=f||d+1;g=g||this.o.locations[d].title;d=c('<a data-load="'+f+'" id="ullist_a_'+f+'" href="#'+f+'" title="'+g+'"><span>'+(g||"#"+(d+1))+"</span></a>");d.css(this.o.controls_applycss?{color:"#666",display:"block",padding:"5px",fontSize:this.o.controls_on_map?"12px":"inherit",textDecoration:"none"}:{});d.on("click",function(e){e.preventDefault();e=c(this).attr("data-load");l.ViewOnMap(e)});return d},activateCurrent:function(d){this.html_element.find("li").removeClass("active");this.html_element.find("#ullist_a_"+d).parent().addClass("active")},getHtml:function(){var d=c("<ul class='ullist controls "+this.o.controls_cssclass+"'></ul>").css(this.o.controls_applycss?{margin:0,padding:0,listStyleType:"none"}:{}),e;this.ShowOnMenu(this.view_all_key)&&d.append(c("<li></li>").append(h.html_a.call(this,!1,this.view_all_key,this.o.view_all_text)));for(e=0;e<this.ln;e++){this.ShowOnMenu(e)&&d.append(c("<li></li>").append(h.html_a.call(this,e)))}(e=this.o.controls_title)&&(e=c('<div class="controls_title"></div>').css(this.o.controls_applycss?{fontWeight:"bold",padding:"3px 10px 5px 0",fontSize:this.o.controls_on_map?"12px":"inherit"}:{}).append(this.o.controls_title));return this.html_element=c('<div class="wrap_controls"></div>').append(e).append(d)}};var a=function(d){this.VERSION="0.1.2";this.errors=[];this.loaded=!1;this.dev=!1;this.markers=[];this.oMap=!1;this.view_all_key="all";this.infowindow=null;this.ln=0;this.oMap=!1;this.directionsDisplay=this.directionsService=this.Fusion=this.Polygon=this.Polyline=this.current_index=this.current_control=this.controls_wrapper=this.canvas_map=this.map_div=this.oBounds=null;this.o={map_div:"#gmap",controls_div:"#controls",generate_controls:!0,controls_type:"dropdown",controls_cssclass:"",controls_title:"",controls_on_map:!0,controls_applycss:!0,controls_position:b.maps.ControlPosition.RIGHT_TOP,type:"marker",view_all:!0,view_all_text:"View All",start:0,locations:[],commons:{},map_options:{mapTypeId:b.maps.MapTypeId.ROADMAP,zoom:1},stroke_options:{strokeColor:"#0000FF",strokeOpacity:0.8,strokeWeight:2,fillColor:"#0000FF",fillOpacity:0.4},directions_options:{travelMode:b.maps.TravelMode.DRIVING,unitSystem:b.maps.UnitSystem.METRIC,optimizeWaypoints:!1,provideRouteAlternatives:!1,avoidHighways:!1,avoidTolls:!1},styles:{},fusion_options:{},directions_panel:null,draggable:!1,show_infowindows:!0,show_markers:!0,infowindow_type:"bubble",beforeViewAll:function(){},afterViewAll:function(){},beforeShow:function(){},afterShow:function(){},afterCreateMarker:function(){},beforeCloseInfowindow:function(){},afterCloseInfowindow:function(){},beforeOpenInfowindow:function(){},afterOpenInfowindow:function(){},afterRoute:function(){},onPolylineClick:function(){}};this.AddControl("dropdown",j);this.AddControl("list",h);c.extend(!0,this.o,d)};a.prototype.controls={};a.prototype.create_objMap=function(){var d=0,e;for(e in this.o.styles){this.o.styles.hasOwnProperty(e)&&(0===d&&(this.o.map_options.mapTypeControlOptions={mapTypeIds:[b.maps.MapTypeId.ROADMAP]}),d++,this.o.map_options.mapTypeControlOptions.mapTypeIds.push("map_style_"+d))}if(this.loaded){this.oMap.setOptions(this.o.map_options)}else{try{this.map_div.css({position:"relative",overflow:"hidden"}),this.canvas_map=c("<div>").addClass("canvas_map").css({width:this.map_div.width(),height:this.map_div.height()}).appendTo(this.map_div),this.oMap=new b.maps.Map(this.canvas_map.get(0),this.o.map_options)}catch(f){this.errors.push(f.toString())}}d=0;for(e in this.o.styles){this.o.styles.hasOwnProperty(e)&&(d++,this.oMap.mapTypes.set("map_style_"+d,new b.maps.StyledMapType(this.o.styles[e],{name:e})),this.oMap.setMapTypeId("map_style_"+d))}this.debug("01")};a.prototype.add_markers_to_objMap=function(){var d;d=this.o.type||"marker";switch(d){case"marker":for(d=0;d<this.ln;d++){this.create.marker.call(this,d)}break;default:this.create[d].apply(this)}};a.prototype.create={marker:function(e){var f=this,g=this.o.locations[e],m,l,n=new b.maps.LatLng(g.lat,g.lon),o=!1===g.visible?!1:!0;c.extend(g,{position:n,map:this.oMap,zIndex:10000,visible:!1===this.o.show_markers?!1:o});g.image&&(image_w=g.image_w||32,image_h=g.image_h||32,c.extend(g,{icon:new b.maps.MarkerImage(g.image,new b.maps.Size(image_w,image_h),new b.maps.Point(0,0),new b.maps.Point(image_w/2,image_h/2))}));m=new b.maps.Marker(g);b.maps.event.addListener(m,"click",function(){f.o.beforeShow(e,g,m);l=!1===g.show_infowindows?!1:!0;f.o.show_infowindows&&l&&f.open_infowindow(e,m);f.oMap.panTo(n);g.zoom&&f.oMap.setZoom(g.zoom);f.current_control&&(f.o.generate_controls&&f.current_control.activateCurrent)&&f.current_control.activateCurrent.call(f,e+1);f.current_index=e;f.o.afterShow(e,g,m)});this.oBounds.extend(n);this.markers.push(m);this.o.afterCreateMarker(e,g,m);g.visible=o;return m},polyline:function(){var d,e,f=[];for(d=0;d<this.ln;d++){e=new b.maps.LatLng(this.o.locations[d].lat,this.o.locations[d].lon),f.push(e),this.create.marker.call(this,d)}c.extend(this.o.stroke_options,{path:f,map:this.oMap});this.Polyline?this.Polyline.setOptions(this.o.stroke_options):this.Polyline=new b.maps.Polyline(this.o.stroke_options)},polygon:function(){var e=this,f,g,l=[];for(f=0;f<this.ln;f++){g=new b.maps.LatLng(this.o.locations[f].lat,this.o.locations[f].lon),l.push(g),this.create.marker.call(this,f)}c.extend(this.o.stroke_options,{paths:l,editable:this.o.draggable,map:this.oMap});this.Polygon?this.Polygon.setOptions(this.o.stroke_options):this.Polygon=new b.maps.Polygon(this.o.stroke_options);b.maps.event.addListener(this.Polygon,"click",function(d){e.o.onPolylineClick(d)})},fusion:function(){c.extend(this.o.fusion_options,{styles:[this.o.stroke_options],map:this.oMap});this.Fusion?this.Fusion.setOptions(this.o.fusion_options):this.Fusion=new b.maps.FusionTablesLayer(this.o.fusion_options)},directions:function(){var e=this,f,l,n,r,p,q=[],o=0;for(f=0;f<this.ln;f++){n=new b.maps.LatLng(this.o.locations[f].lat,this.o.locations[f].lon),0===f?r=n:f===this.ln-1?p=n:(l=!0===this.o.locations[f].stopover?!0:!1,q.push({location:n,stopover:l})),this.create.marker.call(this,f)}c.extend(this.o.directions_options,{origin:r,destination:p,waypoints:q});this.directionsService||(this.directionsService=new b.maps.DirectionsService);this.directionsDisplay?this.directionsDisplay.setOptions({draggable:this.o.draggable}):this.directionsDisplay=new b.maps.DirectionsRenderer({draggable:this.o.draggable});this.directionsDisplay.setMap(this.oMap);this.o.directions_panel&&(this.o.directions_panel=c(this.o.directions_panel),this.directionsDisplay.setPanel(this.o.directions_panel.get(0)));this.o.draggable&&b.maps.event.addListener(this.directionsDisplay,"directions_changed",function(){o=e.compute_distance(e.directionsDisplay.directions);e.o.afterRoute(o)});this.directionsService.route(this.o.directions_options,function(d,g){g==b.maps.DirectionsStatus.OK&&(o=e.compute_distance(d),e.directionsDisplay.setDirections(d));e.o.afterRoute(o,g,d)})}};a.prototype.compute_distance=function(e){var f=0,g=e.routes[0],l=g.legs.length;for(e=0;e<l;e++){f+=g.legs[e].distance.value}return f};a.prototype.type_to_open={bubble:function(d){this.infowindow=new b.maps.InfoWindow({content:d.html||""})}};a.prototype.open_infowindow=function(e,f){this.CloseInfoWindow();var g=this.o.locations[e],l=g.type||this.o.infowindow_type;g.html&&this.type_to_open[l]&&(this.o.beforeOpenInfowindow(e,g,f),this.type_to_open[l].call(this,g),this.infowindow.open(this.oMap,f),this.o.afterOpenInfowindow(e,g,f))};a.prototype.get_html_controls=function(){return this.controls[this.o.controls_type]&&this.controls[this.o.controls_type].getHtml?(this.current_control=this.controls[this.o.controls_type],this.current_control.getHtml.apply(this)):""};a.prototype.generate_controls=function(){if(this.o.controls_on_map){var d=c('<div class="on_gmap '+this.o.controls_type+' gmap_controls"></div>').css(this.o.controls_applycss?{margin:"5px"}:{}),e=c(this.get_html_controls()).css(this.o.controls_applycss?{background:"#fff",padding:"5px",border:"1px solid rgb(113,123,135)",boxShadow:"rgba(0, 0, 0, 0.4) 0px 2px 4px",maxHeight:this.map_div.find(".canvas_map").outerHeight()-80,minWidth:100,overflowY:"auto",overflowX:"hidden"}:{});d.append(e);this.oMap.controls[this.o.controls_position].push(d.get(0))}else{this.controls_wrapper.empty(),this.controls_wrapper.append(this.get_html_controls())}};a.prototype.init_map=function(){var d=this,e=0;this.Polyline&&this.Polyline.setMap(null);this.Polygon&&this.Polygon.setMap(null);this.Fusion&&this.Fusion.setMap(null);this.directionsDisplay&&this.directionsDisplay.setMap(null);if(this.markers){for(e in this.markers){if(this.markers[e]){try{this.markers[e].setMap(null)}catch(f){d.errors.push(f)}}}this.markers.length=0;this.markers=[]}this.o.controls_on_map&&this.oMap.controls&&this.oMap.controls[this.o.controls_position].forEach(function(g,l){try{d.oMap.controls[this.o.controls_position].removeAt(l)}catch(m){d.errors.push(m)}});this.oBounds=new b.maps.LatLngBounds;this.debug("02")};a.prototype.perform_load=function(){1==this.ln?(this.oMap.setCenter(this.markers[0].getPosition()),this.ViewOnMap(1)):0===this.ln?(this.o.map_options.set_center?this.oMap.setCenter(new b.maps.LatLng(this.o.map_options.set_center[0],this.o.map_options.set_center[1])):this.oMap.fitBounds(this.oBounds),this.oMap.setZoom(this.o.map_options.zoom)):(this.oMap.fitBounds(this.oBounds),"number"==typeof(this.o.start-0)&&0<this.o.start&&this.o.start<=this.ln?this.ViewOnMap(this.o.start):this.ViewOnMap(this.view_all_key))};a.prototype.debug=function(d){this.dev&&this.errors.length&&console.log(d+": ",this.errors)};a.prototype.AddControl=function(d,e){if(!d||!e){return !1}this.controls[d]=e;return !0};a.prototype.CloseInfoWindow=function(){if(this.infowindow&&(this.current_index||0===this.current_index)){this.o.beforeCloseInfowindow(this.current_index,this.o.locations[this.current_index]),this.infowindow.close(),this.infowindow=null,this.o.afterCloseInfowindow(this.current_index,this.o.locations[this.current_index])}};a.prototype.ShowOnMenu=function(d){if(d==this.view_all_key&&this.o.view_all&&1<this.ln){return !0}d=parseInt(d,10);if("number"==typeof(d-0)&&0<=d&&d<this.ln){var e=!1===this.o.locations[d].on_menu?!1:!0;if(!1!==this.o.locations[d].visible&&e){return !0}}return !1};a.prototype.ViewOnMap=function(d){if(d==this.view_all_key){this.o.beforeViewAll(),this.current_index=d,0<this.o.locations.length&&(this.o.generate_controls&&this.current_control&&this.current_control.activateCurrent)&&this.current_control.activateCurrent.apply(this,[d]),this.oMap.fitBounds(this.oBounds),this.CloseInfoWindow(),this.o.afterViewAll()}else{if(d=parseInt(d,10),"number"==typeof(d-0)&&0<d&&d<=this.ln){try{b.maps.event.trigger(this.markers[d-1],"click")}catch(e){this.errors.push(e.toString())}}}this.debug("03")};a.prototype.SetLocations=function(d,e){this.o.locations=d;e&&this.Load()};a.prototype.AddLocations=function(d,e){var f=this;c.isArray(d)&&c.each(d,function(g,l){f.o.locations.push(l)});c.isPlainObject(d)&&this.o.locations.push(d);e&&this.Load()};a.prototype.AddLocation=function(d,e,f){c.isPlainObject(d)&&this.o.locations.splice(e,0,d);f&&this.Load()};a.prototype.RemoveLocations=function(e,f){var g=this,l=0;c.isArray(e)?c.each(e,function(d,m){m-l<g.ln&&g.o.locations.splice(m-l,1);l++}):e<this.ln&&this.o.locations.splice(e,1);f&&this.Load()};a.prototype.Loaded=function(){return this.loaded};a.prototype._init=function(){this.ln=this.o.locations.length;for(var d=0;d<this.ln;d++){c.extend(this.o.locations[d],this.o.commons),this.o.locations[d].html&&(this.o.locations[d].html=this.o.locations[d].html.replace("%index",d+1),this.o.locations[d].html=this.o.locations[d].html.replace("%title",this.o.locations[d].title||""))}this.map_div=c(this.o.map_div);this.controls_wrapper=c(this.o.controls_div)};a.prototype.Load=function(d){c.extend(!0,this.o,d);d&&d.locations&&(this.o.locations=d.locations);this._init();this.init_map();this.create_objMap();this.add_markers_to_objMap();1<this.ln&&this.o.generate_controls||this.o.force_generate_controls?(this.o.generate_controls=!0,this.generate_controls()):this.o.generate_controls=!1;var e=this;this.loaded?this.perform_load():(b.maps.event.addListenerOnce(this.oMap,"idle",function(){e.perform_load()}),b.maps.event.addListener(this.oMap,"resize",function(){e.canvas_map.css({width:e.map_div.width(),height:e.map_div.height()})}));this.loaded=!0};"function"==typeof define&&define.amd?define(function(){return a}):k.Maplace=a})(jQuery,this,google);